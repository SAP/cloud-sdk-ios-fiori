name: PR

on:
  pull_request:
    types: [opened, synchronize]

jobs:

  swift-api-assign-reviewer:
    runs-on: ubuntu-latest
    steps:
      - uses: MarcoEidinger/swift-api-assign-reviewer@1.0.0
        with:
          repo-token: "${{ secrets.GITHUB_TOKEN }}"
          configuration-path: ".github/configActions/swift-api-assign-reviewer.yml"

  LocalizableTextCommentsCheck:
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v3
        - name: Checkout Repo
          uses: actions/checkout@v3
        - name: Check for changes in .strings files
          uses: getsentry/paths-filter@v2
          id: changes
          with:
            filters: |
              src:
                - 'Sources/**/*.strings'
        - name: Run StringsLint to check for missing comments in .strings files
          uses: dral3x/action-stringslint@1.1.0
          if: steps.changes.outputs.src == 'true'
